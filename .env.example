# ============================================
# КОНФИГУРАЦИЯ БАЗЫ ДАННЫХ
# ============================================

# Основные параметры подключения
DB_HOST=localhost
DB_PORT=5432
DB_NAME=your_database_name
DB_USER=your_database_user
# DB_PASSWORD не требуется если используется .pgpass

# Параметры пула соединений
DB_POOL_MIN_SIZE=4
DB_POOL_MAX_SIZE=20
DB_POOL_TIMEOUT=30
DB_POOL_MAX_IDLE=300
DB_POOL_MAX_LIFETIME=3600
DB_POOL_MAX_WAITING=20

# Параметры соединения
DB_CONNECT_TIMEOUT=10
DB_KEEPALIVES=1
DB_KEEPALIVES_IDLE=30
DB_KEEPALIVES_INTERVAL=5
DB_KEEPALIVES_COUNT=5
DB_TCP_USER_TIMEOUT=60000

# Параметры повторных попыток
DB_MAX_RETRIES=3
DB_MAX_ERRORS_BEFORE_REINIT=5
DB_ERROR_RESET_INTERVAL=60

# ============================================
# КОНФИГУРАЦИЯ ПРИЛОЖЕНИЯ
# ============================================

# Секретный ключ Flask (генерируйте случайную строку для продакшена!)
SECRET_KEY=your-secret-key-here-generate-random-string

# Режим работы
FLASK_ENV=development
FLASK_DEBUG=True
DEBUG_AUTH=False

# Сервер
PORT=5000
HOST=0.0.0.0

# ============================================
# ДЕФОЛТНЫЕ ТОРГОВЫЕ ПАРАМЕТРЫ
# ============================================
# Используются для новых пользователей и как fallback

# Основные торговые параметры
DEFAULT_POSITION_SIZE=100
DEFAULT_LEVERAGE=5
DEFAULT_STOP_LOSS_PERCENT=3.0
DEFAULT_TAKE_PROFIT_PERCENT=4.0

# Trailing Stop параметры
DEFAULT_TRAILING_DISTANCE_PCT=2.0
DEFAULT_TRAILING_ACTIVATION_PCT=1.0
DEFAULT_USE_TRAILING_STOP=False

# Временные фильтры (в часах)
DEFAULT_HIDE_YOUNGER_HOURS=6
DEFAULT_HIDE_OLDER_HOURS=48

# Score фильтры (0-100)
DEFAULT_SCORE_WEEK_MIN=0
DEFAULT_SCORE_MONTH_MIN=0

# Лимиты
DEFAULT_MIN_VALUE_USD=10000
DEFAULT_MAX_TRADES_PER_15MIN=3

# Разрешенные часы торговли (через запятую, например: 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23)
DEFAULT_ALLOWED_HOURS=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23

# ============================================
# ЛИМИТЫ И ВАЛИДАЦИЯ
# ============================================

# Лимиты для position size
MIN_POSITION_SIZE=10
MAX_POSITION_SIZE=10000

# Лимиты для leverage
MIN_LEVERAGE=1
MAX_LEVERAGE=20

# Лимиты для stop loss/take profit (в процентах)
MIN_STOP_LOSS=0.5
MAX_STOP_LOSS=20
MIN_TAKE_PROFIT=0.5
MAX_TAKE_PROFIT=50

# Лимиты для trailing stop
MIN_TRAILING_DISTANCE=0.1
MAX_TRAILING_DISTANCE=10
MIN_TRAILING_ACTIVATION=0.1
MAX_TRAILING_ACTIVATION=10

# Лимиты для временных фильтров (в часах)
MIN_HIDE_YOUNGER=0
MAX_HIDE_YOUNGER=48
MIN_HIDE_OLDER=1
MAX_HIDE_OLDER=168

# Лимиты для score фильтров
MIN_SCORE=0
MAX_SCORE=100

# ============================================
# АНАЛИЗ И ОПТИМИЗАЦИЯ
# ============================================

# Параметры анализа эффективности
EFFICIENCY_ANALYSIS_MAX_COMBINATIONS=1000
EFFICIENCY_ANALYSIS_TIMEOUT=300

# Параметры trailing анализа
TRAILING_ANALYSIS_DEFAULT_ACTIVATION_MIN=0.5
TRAILING_ANALYSIS_DEFAULT_ACTIVATION_MAX=3.0
TRAILING_ANALYSIS_DEFAULT_DISTANCE_MIN=0.5
TRAILING_ANALYSIS_DEFAULT_DISTANCE_MAX=3.0
TRAILING_ANALYSIS_DEFAULT_STOP_LOSS_MIN=1.0
TRAILING_ANALYSIS_DEFAULT_STOP_LOSS_MAX=5.0

# Параметры scoring анализа
SCORING_ANALYSIS_DEFAULT_DAYS_BACK=30
SCORING_ANALYSIS_BATCH_SIZE=50

# ============================================
# МОНИТОРИНГ И ЛОГИРОВАНИЕ
# ============================================

# Уровень логирования (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Путь к файлам логов
LOG_FILE_PATH=/var/log/trading_assistant/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# ============================================
# БЕЗОПАСНОСТЬ
# ============================================

# Максимальное количество попыток входа
MAX_LOGIN_ATTEMPTS=5
LOGIN_ATTEMPT_WINDOW=300

# Время жизни сессии (в секундах)
SESSION_LIFETIME=3600
PERMANENT_SESSION_LIFETIME=86400

# ============================================
# ИНТЕГРАЦИИ (опционально)
# ============================================

# Telegram бот (если используется)
# TELEGRAM_BOT_TOKEN=your_bot_token_here
# TELEGRAM_CHAT_ID=your_chat_id_here

# Email уведомления (если используется)
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_FROM_EMAIL=your_email@gmail.com
# SMTP_TO_EMAIL=recipient@example.com